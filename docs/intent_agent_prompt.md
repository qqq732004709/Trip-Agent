# ğŸ¯ `parse_user_input()` Prompt Engineering è®¾è®¡æ–‡æ¡£

## âœ¨ åŠŸèƒ½ç›®æ ‡

è¯¥ prompt ç”± `intent_agent` è°ƒç”¨ï¼Œç”¨äºä¸€æ¬¡æ€§å®Œæˆä¸¤ä»¶äº‹ï¼š

1. âœ… åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¡¨è¾¾äº†æ—…è¡Œæ„å›¾ï¼›
2. âœ… è‹¥æœ‰æ—…è¡Œæ„å›¾ï¼Œæå–ç»“æ„åŒ–çš„æ—…è¡Œéœ€æ±‚ï¼š

   * destination
   * start\_date / end\_date
   * preferencesï¼ˆactivities / budgetï¼‰

---

## ğŸ“¥ Prompt è¾“å…¥ç»“æ„

ä½ ä¼ å…¥çš„ä¸Šä¸‹æ–‡æ˜¯å®Œæ•´å¯¹è¯ï¼ˆå¤šä¸ª HumanMessage æ‹¼æ¥ï¼‰ï¼š

```text
å¯¹è¯è®°å½•ï¼š
"""
{conversation}
"""
```

---

## ğŸ“¤ Prompt ç›®æ ‡è¾“å‡ºæ ¼å¼

```json
{
  "destination": "string",
  "start_date": "string",
  "end_date": "string",
  "preferences": {
    "activities": ["string"],
    "budget": "string"
  }
}
```

### â— å¦‚æœæ²¡æœ‰æ—…è¡Œæ„å›¾ â†’ è¾“å‡ºæ‰€æœ‰å­—æ®µä¸ºç©º

---

## âœ… å½“å‰ Prompt æ¨¡æ¿

```text
ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½æ—…è¡ŒåŠ©æ‰‹ï¼Œè¯·é˜…è¯»ä»¥ä¸‹ç”¨æˆ·çš„å®Œæ•´å¯¹è¯è®°å½•ã€‚

ä½ çš„ä»»åŠ¡æ˜¯ï¼š
1. åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¡¨è¾¾äº†æ˜ç¡®çš„æ—…è¡Œæ„å›¾ï¼ˆå¦‚ï¼šæ—…æ¸¸ã€å‡ºè¡Œã€æ”¾æ¾ã€å»å“ªç©ç­‰ï¼‰ï¼›
2. å¦‚æœæœ‰æ—…è¡Œæ„å›¾ï¼Œè¯·æå–æ—…è¡Œéœ€æ±‚ä¸ºç»“æ„åŒ– JSONï¼š
   - destination: ç›®çš„åœ°
   - start_date: å‡ºå‘æ—¥æœŸï¼ˆå¦‚ 2025-06-01ï¼‰
   - end_date: è¿”å›æ—¥æœŸï¼ˆå¦‚ 2025-06-04ï¼‰
   - preferences: ç”¨æˆ·åå¥½ï¼ŒåŒ…æ‹¬ activities å’Œ budget

å¯¹è¯è®°å½•ï¼š
"""
{conversation}
"""

è¯·ä¸¥æ ¼è¾“å‡º JSON æ ¼å¼ï¼Œç»“æ„å¦‚ä¸‹ï¼š
{
  "destination": "string",
  "start_date": "string",
  "end_date": "string",
  "preferences": {
    "activities": ["string"],
    "budget": "string"
  }
}

å¦‚æœç”¨æˆ·æ²¡æœ‰è¡¨è¾¾æ—…è¡Œæ„å›¾ï¼Œè¯·è¿”å›æ‰€æœ‰å­—æ®µä¸ºç©ºã€‚
```

---

## âœ… Prompt ä¼˜åŠ¿

* ğŸ” å•æ¬¡ LLM è°ƒç”¨å®Œæˆåˆ¤æ–­ + æå–ï¼Œå‡å°‘è°ƒç”¨æ¬¡æ•°
* ğŸ’¬ å…·å¤‡ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼ˆé€šè¿‡å®Œæ•´ conversationï¼‰
* ğŸ” å¯å®‰å…¨å›é€€ï¼ˆç©ºç»“æ„ = æ— æ„å›¾ï¼‰

---

## ğŸ§  å»ºè®®åç»­å¾®è°ƒæ–¹å‘

| ç›®æ ‡         | æ–¹æ³•                                                |
| ---------- | ------------------------------------------------- |
| æå‡ç»“æ„è¾“å‡ºæˆåŠŸç‡  | åŠ å…¥â€œä¸è¦è§£é‡Šâ€ã€â€œä¸è¦åŠ æ³¨é‡Šâ€å¼ºè°ƒ                                |
| æ§åˆ¶é¢„ç®—/åå¥½å¤šæ ·æ€§ | åŠ å…¥ examples æç¤ºåå¥½é€‰é¡¹                                |
| å¤šè½®åˆå¹¶       | åç»­åŠ å…¥å¯¹ memory çš„è¡¥å……ç¤ºä¾‹                                |
| é«˜å¯é æ€§ç»“æ„åŒ–    | ç”¨ LangChain OutputParsers/Function Call æ›¿ä»£ç®€å• JSON |
